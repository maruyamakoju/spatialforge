# ============================================================
# SpatialForge Configuration
# Copy this file to .env and fill in the values
# ============================================================

# --- Server ---
HOST=0.0.0.0
PORT=8000
WORKERS=1
DEBUG=false
# Use JSON list syntax. Wildcard "*" is allowed only when DEMO_MODE=true.
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8000"]
SECURITY_CONTACT=mailto:security@spatialforge.dev
SECURITY_EXPIRES=2027-12-31T00:00:00Z
SECURITY_PREFERRED_LANGUAGES=en,ja
SECURITY_CANONICAL_URL=https://api.spatialforge.dev/.well-known/security.txt
# Optional: URL to your ASCII-armored PGP key.
SECURITY_ENCRYPTION_URL=

# --- Authentication ---
API_KEY_SECRET=change-me-to-a-random-secret-key-at-least-32-chars
ADMIN_API_KEY=sf_admin_change_me

# --- Redis ---
REDIS_URL=redis://localhost:6379/0

# --- MinIO / S3 Storage ---
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=spatialforge
MINIO_SECURE=false

# --- Model Configuration ---
MODEL_DIR=./models
DEFAULT_DEPTH_MODEL=large
# Depth backend:
#   hf  = HuggingFace pipeline (DA2 fallback, no depth_anything_3 dependency)
#   da3 = native Depth-Anything-3 backend (requires depth_anything_3 package)
DEPTH_BACKEND=hf
DEVICE=cuda
TORCH_DTYPE=float16
# DANGER: Enables CC-BY-NC models. NEVER enable in production.
RESEARCH_MODE=false

# --- Stripe Billing (optional â€” app works without it) ---
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# --- Demo Mode ---
# Allow unauthenticated access when Redis is down (for demos only)
DEMO_MODE=false

# --- Rate Limiting ---
RATE_LIMIT_FREE=100
RATE_LIMIT_BUILDER=5000
RATE_LIMIT_PRO=50000

# --- Processing ---
MAX_IMAGE_SIZE=4096
MAX_VIDEO_DURATION_S=120
RESULT_TTL_HOURS=24
